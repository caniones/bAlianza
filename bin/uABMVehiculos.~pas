unit uABMVehiculos;

interface

uses
  Windows, Messages, SysUtils, Variants, Classes, Graphics, Controls, Forms,
  Dialogs, uABMbase, cxStyles, cxCustomData, cxGraphics, cxFilter, cxData,
  cxDataStorage, cxEdit, DB, cxDBData, cxGridLevel, cxClasses, cxControls,
  cxGridCustomView, cxGridCustomTableView, cxGridTableView,
  cxGridDBTableView, cxGrid, ExtCtrls, Buttons;

type
  TfrmABMVehiculos = class(TfrmABMbase)
    procedure FormCreate(Sender: TObject);
    procedure FormDestroy(Sender: TObject);
    procedure btnAltaClick(Sender: TObject);
    procedure btnModiClick(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  frmABMVehiculos: TfrmABMVehiculos;

implementation

uses udmVehiculos, uAMVehiculo;

var
  dm:TdmVehiculos;

{$R *.dfm}

procedure TfrmABMVehiculos.FormCreate(Sender: TObject);
begin
  inherited;
  dm:=TdmVehiculos.Create(self);
end;

procedure TfrmABMVehiculos.FormDestroy(Sender: TObject);
begin
  inherited;
  dm.Free;
end;

procedure TfrmABMVehiculos.btnAltaClick(Sender: TObject);
var
  FInput:TfrmAMVehiculo;
begin
  inherited;
  FInput:=TfrmAMVehiculo.Create(self);
  try
    dsDatos.DataSet.Insert;
    if FInput.ShowModal = mrOK then
      dm.grabar;
      dsDatos.DataSet.Cancel;
  finally
    FInput.Free;
  end;
end;

procedure TfrmABMVehiculos.btnModiClick(Sender: TObject);
var
  FInput:TfrmAMVehiculo;
begin
  inherited;
  FInput:=TfrmAMVehiculo.Create(self);
  try
    dsDatos.DataSet.Edit;
    if FInput.ShowModal = mrOK then
      dm.grabar;
      dsDatos.DataSet.Cancel;
  finally
    FInput.Free;
  end;
end;

end.
